# Коннектор для Континент 3.9

Этот коннектор получает данные из базы данных MS SQL и отправляет их на сервер Континент 3.9, используя один из двух протоколов — TCP или UDP, указанных в файле конфигурации.

## Требования

- Go версии 1.17 или выше
- База данных MS SQL
- Сервер Континент 3.9

## Конфигурация

Конфигурация управляется через файл `config.yaml`, в котором указаны настройки подключения к базе данных, SQL-запросы и параметры подключения к серверу Континент 3.9. См. файл `config.yaml.example` для шаблона.

### Параметры конфигурации

- **db**
  - `host`: Хост базы данных (например, "localhost").
  - `port`: Порт базы данных (обычно 1433 для MS SQL).
  - `user`: Имя пользователя базы данных.
  - `password`: Пароль для пользователя базы данных.
  - `database`: Название базы данных.
  - `reconnect`: Включение/выключение автоматического переподключения к базе данных при потере соединения.

- **query**
  - `alertlog`, `packetlog`, `serveraccesslog`, `systemlog`: SQL-запросы для получения данных из определенных логов. Эти запросы предопределены и не должны изменяться.

- **protocol**
  - `tcp` или `udp`: Протокол для отправки данных на сервер Континент 3.9.

- **connection**
  - `address`: Полное доменное имя (FQDN) сервера Континент 3.9.
  - `port`: Номер порта для сервера Континент 3.9.

- **poll_interval**
  - Интервал (в секундах) для периодического обращения к базе данных и получения данных.

- **state_file**
  - Путь к JSON-файлу, который используется для сохранения состояния обработанных логов.

- **log_file_path**
  - Путь к файлу логов для записи действий коннектора.

## Использование

1. Скопируйте `config.yaml.example` в `config.yaml`.
2. Отредактируйте `config.yaml`, указав данные для подключения к вашей базе данных и серверу.
3. Запустите коннектор:
   ```bash
   go run main.go